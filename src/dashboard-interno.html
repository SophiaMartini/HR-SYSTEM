<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dashboard</title>
    <link
      rel="icon"
      type="image/png"
      href="/src/assets/logos/logo-sozinha.png"
    />

    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Playwrite+US+Modern:wght@100..400&display=swap"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css2?family=Caveat:wght@600&family=Open+Sans:wght@400;600&display=swap"
      rel="stylesheet"
    />

    <!--bibliotecas-->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />

    <!--css-->
    <link rel="stylesheet" href="./css/reset.css">
    <link rel="stylesheet" href="./css/dashboard.css">

    <link rel="stylesheet" href="./css/css.interno/departamentos-interno.css">
    <link rel="stylesheet" href="./css/css.interno/candidaturas-interno.css">
    <link rel="stylesheet" href="./css/css.interno/treinamentos.css">
    <link rel="stylesheet" href="./css/perfil.css">
    <link rel="stylesheet" href="./css/css.interno/colaboradores-interno.css">
    <link rel="stylesheet" href="./css/css.interno/folha-de-pagamento.css">

    <!--js-->
    <script src="/src/js/auth-local.js" defer></script>
    <script src="/src/js/database-simulacao.js" defer></script>
    <script src="/src/js/api-fake.js" defer></script>
    <script src="/src/js/js_interno/dashboard-interno.js" defer></script>
    <script src="/src/js/all.js" defer></script>

    <script src="./js/js_interno/candidaturas-interno.js" defer></script>
    <script src="./js/perfil.js" defer></script>
    <script src="./js/js_interno/treinamentos-interno.js" defer></script>
    <script src="./js/js_interno/folha-de-pagamento.js" defer></script>
    <script src="./js/js_interno/departamentos-interno.js" defer></script>
    <script src="./js/js_interno/colaboradores-interno.js"></script>
  </head>
  <body>
    <header id="header-dash-intcolab"></header>

    <main id="dashboard-screen" class="screen">
      <section class="hero-section">
        <h1>HR System</h1>
        <img
          src="/src/assets/imgs/Homem Dashboard.png"
          alt="Homem da dashboard"
        />
      </section>

      <section class="dashboard-content">
        <div class="item">
          <i class="fa-solid fa-list-check"></i>
          <h3>Candidaturas</h3>
          <button id="candidaturas-btn">Gerenciar Candidaturas</button>
        </div>
        <div class="divisor"></div>
        <div class="item">
          <i class="fa-solid fa-graduation-cap"></i>
          <h3>Treinamentos</h3>
          <button id="treinamentos-btn">Gerenciar Treinamentos</button>
        </div>
        <div class="divisor"></div>
        <div class="item">
          <i class="fa-solid fa-user"></i>
          <h3>Perfil</h3>
          <button id="perfil-btn">Gerenciar Perfil</button>
        </div>

        <div class="item">
          <i class="fa-solid fa-people-group"></i>
          <h3>Departamentos</h3>
          <button id="departamentos-btn">Gerenciar Departamentos</button>
        </div>
        <div class="divisor"></div>
        <div class="item">
          <i class="fa-solid fa-id-card"></i>
          <h3>Colaboradores</h3>
          <button id="colaboradores-btn">Gerenciar Colaboradores</button>
        </div>
        <div class="divisor"></div>
        <div class="item">
          <i class="fa-solid fa-hand-holding-dollar"></i>
          <h3>Folha de Pagamento</h3>
          <button id="folha-btn">Gerenciar Folha</button>
        </div>
      </section>
    </main>

     <div id="candidaturas-screen" class="screen" style="display: none">
        <section class="hero-section">
            <h1>Candidaturas</h1>
            <img src="/src/assets/imgs/Homem Dashboard.png" alt="Homem da dashboard"/>
        </section>

        <div class="cand-container">
            <div class="cabecalho">
            <div class="input-search-filter">
                <i class="fa fa-search cand-search-icon"></i>
                <input type="text" placeholder="Pesquise por palavra chave" />
            </div></div>

            <div class="cand-filters">
                <div class="inputs-label">
                <label>Organizar por:</label>
                <select>
                    <option>Ordem crescente</option>
                    <option>Ordem decrescente</option>
                </select>
                </div>
                <div class="inputs-label">
                <label>Filtrar por:</label>
                <select>
                    <option>Vaga</option>
                    <option>Nome</option>
                </select>
                </div>
            </div>
            </div>

            <div class="cand-card cand-table-wrap">
            <div class="cand-table-header">Candidaturas</div>
            <table>
                <thead>
                <tr>
                    <th>Candidato</th>
                    <th>CPF</th>
                    <th>Cód. candidato</th>
                    <th></th>
                </tr>
                </thead>
                <tbody id="tableBodyCandidaturas"></tbody>
            </table>
            </div>

            <div class="cand-pagination">
            <div class="cand-pages">
                <span>Páginas: </span>
                <span class="active">1</span>
                <span>2</span>
                <span>3</span>
                <span>4</span>
                <span>Próxima</span>
            </div>
            <div>1 de 8</div>
            </div>
        </div>

    </div>


    <div id="treinamentos-screen" class="screen" style="display: none">
      <section class="hero-section">
        <h1>Treinamentos</h1>
        <img
          src="/src/assets/imgs/Homem Dashboard.png"
          alt="Homem da dashboard"
        />
      </section>

      <div class="treinamentos-content">
        <div class="topo-treinamentos">
          <h2>Gerenciar Treinamentos</h2>
          <button
            id="novoTreinamentoBtn"
            class="btn-defaunt"
            onclick="document.getElementById('treinamentos-screen').style.display='none'; document.getElementById('cadastro-treinamento-screen').style.display='block';"
          >
            <i class="fas fa-plus"></i> Novo Treinamento
          </button>
        </div>

        <div class="filtros-treinamentos">
          <div class="input-search-filter">
            <i class="fa-solid fa-magnifying-glass"></i>
            <input
              type="text"
              id="buscaTreinamento"
              placeholder="Buscar por nome ou instrutor..."
            />
          </div>

          <div class="filtros">
            <div class="inputs-label">
              <select id="categoriaFiltro">
                <option value="">Todas Categorias</option>
                <option value="tecnologia">Tecnologia</option>
                <option value="gestao">Gestão</option>
                <option value="compliance">Compliance</option>
                <option value="soft-skills">Soft Skills</option>
              </select>
            </div>

            <div class="inputs-search-filter">
              <select id="statusFiltro">
                <option value="">Todos Status</option>
                <option value="ativo">Ativo</option>
                <option value="inativo">Inativo</option>
                <option value="concluido">Concluído</option>
              </select>
            </div>
          </div>
        </div>

        <div id="treinamentos_grid"></div>
      </div>
    </div>

    <div id="cadastro-treinamento-screen" class="screen" style="display: none">
      <div class="form-container-treinamento">
        <form id="cadastroTreinamentoForm">
          <div class="form-header">
            <button
              type="button"
              class="btn-voltar"
              onclick="document.getElementById('cadastro-treinamento-screen').style.display='none'; document.getElementById('treinamentos-screen').style.display='block';"
            >
              <i class="fas fa-arrow-left"></i> Voltar
            </button>
            <h2 id="tituloForm">Novo Treinamento</h2>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-info-circle"></i> Informações Básicas</h3>

            <div class="form-grid">
              <div class="inputs-label">
                <label for="tituloTreinamento">Título do Treinamento *</label>
                <input
                  type="text"
                  id="tituloTreinamento"
                  name="tituloTreinamento"
                  required
                  placeholder="Ex: Liderança Eficaz"
                />
              </div>

              <div class="inputs-label">
                <label for="cargaHoraria">Carga Horária (horas) *</label>
                <input
                  type="number"
                  id="cargaHoraria"
                  name="cargaHoraria"
                  min="1"
                  max="200"
                  value="20"
                  required
                />
              </div>

              <div class="inputs-label">
                <label for="instrutorTreinamento">Instrutor *</label>
                <select
                  id="instrutorTreinamento"
                  name="instrutorTreinamento"
                  required
                >
                  <option value="">Selecione o instrutor</option>
                </select>
              </div>

              <div class="inputs-label">
                <label for="categoriaTreinamento">Categoria</label>
                <select id="categoriaTreinamento" name="categoriaTreinamento">
                  <option value="">Selecione uma categoria</option>
                  <option value="lideranca">Liderança</option>
                  <option value="tecnologia">Tecnologia</option>
                  <option value="compliance">Compliance</option>
                  <option value="soft-skills">Soft Skills</option>
                  <option value="seguranca">Segurança do Trabalho</option>
                </select>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-align-left"></i> Descrição</h3>
            <div class="inputs-label">
              <label for="descricaoTreinamento">Descrição Detalhada *</label>
              <textarea
                id="descricaoTreinamento"
                name="descricaoTreinamento"
                rows="6"
                required
                placeholder="Descreva os objetivos, conteúdo e benefícios deste treinamento..."
              ></textarea>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-image"></i> Imagem de Capa</h3>
            <div class="form-group">
              <label for="imagemTreinamento">Upload da Imagem</label>
              <div class="upload-container">
                <div class="upload-area" id="uploadArea">
                  <i class="fas fa-cloud-upload-alt"></i>
                  <input
                    type="file"
                    id="imagemTreinamento"
                    accept="image/*"
                    class="file-input"
                  />
                  <span>Recomendado: 1200x600 pixels, JPG ou PNG</span>
                </div>
                <div
                  class="preview-container"
                  id="previewContainer"
                  style="display: none"
                >
                  <img id="previewImage" src="" alt="Preview" />
                  <button
                    type="button"
                    class="btn-remover-imagem"
                    onclick="removerImagem()"
                  >
                    <i class="fas fa-times"></i>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="form-section">
            <h3><i class="fas fa-layer-group"></i> Módulos e Aulas</h3>
            <div class="form-group">
              <label>Organize o treinamento em módulos e aulas</label>
              <p class="form-help">
                Crie módulos para organizar o conteúdo e adicione aulas dentro
                de cada módulo.
              </p>

              <button
                type="button"
                class="btn-defaunt btn-plus-modulo"
                onclick="adicionarModulo()"
              >
                <i class="fas fa-plus"></i> Adicionar Módulo
              </button>

              <div id="listaModulos"></div>
            </div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn-defaunt">
              <i class="fas fa-save"></i> Salvar Treinamento
            </button>
            <button
              type="button"
              class="btn-cancelar"
              onclick="navegarPara('treinamentos-screen')"
            >
              <i class="fas fa-times"></i> Cancelar
            </button>
          </div>

          <input type="hidden" id="treinamentoId" name="treinamentoId" />
        </form>
      </div>
    </div>

    <div id="visualizar-treinamento-screen" class="screen" style="display: none">
        <div class="conteudo-treinamento-container">
            <div class="cabecalho-visualizacao">
                <div class="hero-content-visualizacao">
                    <div class="hero-text-visualizacao">
                        <div class="cabeca">
                            <button class="btn-voltar" onclick="mostrarTela('treinamentos-screen')">
                                <i class="fas fa-arrow-left"></i> Voltar
                            </button>
                            <h1 id="tituloTreinamentoVisualizar">Treinamento</h1>
                        </div>
                        <div class="hero-info">
                            <span>
                                <i class="fas fa-chalkboard-teacher"></i>
                                <span id="instrutorTreinamentoVisualizar"></span>
                            </span>
                            <span>
                                <i class="fas fa-clock"></i>
                                <span id="cargaHorariaVisualizar"></span> horas
                            </span>
                            <span>
                                <i class="fas fa-book"></i>
                                <span id="totalMateriaisVisualizar">0</span> materiais
                            </span>
                            <span>
                                <i class="fas fa-users"></i>
                                <span id="totalAlunosVisualizar">0</span> alunos
                            </span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="abas-treinamento">
                <button class="aba-treinamento active" data-aba="conteudo" onclick="mudarAba('conteudo')">
                    <i class="fas fa-book"></i> Conteúdo
                </button>
                <button class="aba-treinamento" data-aba="colaboradores" onclick="mudarAba('colaboradores')">
                    <i class="fas fa-users"></i> Colaboradores
                </button>
                <button class="aba-treinamento" data-aba="conclusao" onclick="mudarAba('conclusao')">
                    <i class="fas fa-clipboard-check"></i> Controle de Conclusão
                </button>
            </div>

            <div id="aba-conteudo" class="aba-conteudo-treinamento active">
                <div class="descricao-treinamento">
                    <h2>Descrição</h2>
                    <p id="descricaoTreinamentoVisualizar"></p>
                </div>

                <div class="modulos-treinamento">
                    <h3>Conteúdo do Treinamento</h3>
                    <div id="listaModulosVisualizar"></div>
                </div>

                <div class="acoes-visualizacao">
                    <button class="btn-defaunt" onclick="editarTreinamentoAtual()">
                        <i class="fas fa-edit"></i> Editar Treinamento
                    </button>
                    <button class="btn-defaunt" onclick="mostrarModalAtribuirColaboradores()">
                        <i class="fas fa-user-plus"></i> Atribuir Colaboradores
                    </button>
                </div>
            </div>

            <div id="aba-colaboradores" class="aba-conteudo-treinamento">
                <div class="cabecalho-colaboradores">
                    <h2>Colaboradores Atribuídos</h2>
                    <button class="btn-defaunt" onclick="mostrarModalAtribuirColaboradores()">
                        <i class="fas fa-user-plus"></i> Adicionar Colaboradores
                    </button>
                </div>

                <div id="listaColaboradoresTreinamento"></div>
            </div>

            <div id="aba-conclusao" class="aba-conteudo-treinamento">
                <div class="cabecalho-conclusao">
                    <h2>Controle de Conclusão</h2>
                    <div class="controles-conclusao">
                        <button class="btn-defaunt" onclick="exportarRelatorioConclusao()">
                            <i class="fas fa-download"></i> Exportar Relatório
                        </button>
                    </div>
                </div>
                
                <div id="tabelaConclusaoContainer"></div>
            </div>
        </div>
    </div>


    <div id="modalAtribuirColaboradores" class="modal-colaboradores" style="display: none;">
        <div class="modal-colaboradores-content">
            <div class="modal-colaboradores-header">
                <h3>Atribuir Colaboradores ao Treinamento</h3>
                <button class="modal-colaboradores-fechar" onclick="fecharModalAtribuir()">&times;</button>
            </div>
            
            <div class="modal-colaboradores-body">
                <div class="modal-colaboradores-filtros">
                    <div class="modal-colaboradores-busca">
                        <i class="fa-solid fa-magnifying-glass"></i>
                        <input type="text" id="buscaColaborador" placeholder="Buscar por nome...">
                    </div>
                    
                    <div class="modal-colaboradores-filtros-avancados">
                        <select id="filtroModalDepartamento">
                            <option value="">Todos Departamentos</option>
                            <option value="TI">TI</option>
                            <option value="RH">RH</option>
                            <option value="Marketing">Marketing</option>
                            <option value="Financeiro">Financeiro</option>
                        </select>
                        
                        <select id="filtroModalContratacao">
                            <option value="">Tempo de Contratação</option>
                            <option value="recente">Mais Recente</option>
                            <option value="antigo">Mais Antigo</option>
                            <option value="ultimo-mes">Último Mês</option>
                            <option value="ultimos-3-meses">Últimos 3 Meses</option>
                        </select>
                        
                        <select id="filtroModalMes">
                            <option value="">Mês de Contratação</option>
                            <option value="1">Janeiro</option>
                            <option value="2">Fevereiro</option>
                            <option value="3">Março</option>
                            <option value="4">Abril</option>
                            <option value="5">Maio</option>
                            <option value="6">Junho</option>
                            <option value="7">Julho</option>
                            <option value="8">Agosto</option>
                            <option value="9">Setembro</option>
                            <option value="10">Outubro</option>
                            <option value="11">Novembro</option>
                            <option value="12">Dezembro</option>
                        </select>
                    </div>
                </div>
                
                <div class="modal-colaboradores-lista" id="listaColaboradoresModal">
                    <!-- Lista de colaboradores disponíveis -->
                </div>
                
                <div class="modal-colaboradores-selecionados">
                    <h4>Selecionados: <span id="contadorSelecionados">0</span> colaboradores</h4>
                    <div id="listaSelecionadosModal">
                        <!-- Colaboradores selecionados aparecerão aqui -->
                    </div>
                </div>
            </div>
            
            <div class="modal-colaboradores-footer">
                <button class="btn-cancelar" onclick="fecharModalAtribuir()">Cancelar</button>
                <button class="btn-defaunt" onclick="atribuirColaboradoresSelecionados()">Atribuir Colaboradores</button>
            </div>
        </div>
    </div>

    <div id="controle-presenca-screen" class="screen" style="display: none;">

    <div class="controle-presenca-container">
        <div class="info-aula-presenca">
          <h3 id="nomeAulaPresenca">Aula</h3>
          <div class="detalhes-aula">
            <p>
              <strong>Treinamento:</strong>
              <span id="treinamentoAulaPresenca"></span>
            </p>
            <p>
              <strong>Descrição:</strong>
              <span id="descricaoAulaPresenca"></span>
            </p>
            <p>
              <strong>Material:</strong> <span id="materialAulaPresenca"></span>
            </p>
          </div>
        </div>

        <div class="tabela-presenca-container">
          <div class="cabecalho-tabela-presenca">
            <h4>Lista de Alunos</h4>
            <div class="acoes-presenca">
              <button
                class="btn-marcar-todos"
                onclick="marcarTodos('presente')"
              >
                <i class="fas fa-check-circle"></i> Marcar Todos Presentes
              </button>
              <button class="btn-salvar-presenca" onclick="salvarPresenca()">
                <i class="fas fa-save"></i> Salvar Presença
              </button>
            </div>
          </div>

          <table class="tabela-presenca-detalhada">
            <thead>
              <tr>
                <th>Cód. Aluno</th>
                <th>Aluno</th>
                <th>Cargo</th>
                <th>Presença (%)</th>
                <th>Status</th>
              </tr>
            </thead>
            <tbody id="corpoTabelaPresenca"></tbody>
          </table>

          <div class="paginacao-presenca">
            <button class="btn-pagina" onclick="mudarPaginaPresenca(-1)">
              <i class="fas fa-chevron-left"></i> Anterior
            </button>
            <div class="numeros-pagina">
              <span class="pagina-ativa">1</span>
              <span>2</span>
              <span>3</span>
              <span>4</span>
              <span>5</span>
              <span>...</span>
              <span>8</span>
            </div>
            <button class="btn-pagina" onclick="mudarPaginaPresenca(1)">
              Próxima <i class="fas fa-chevron-right"></i>
            </button>
            <span class="info-pagina">1 de 8</span>
          </div>
        </div>

        <div class="estatisticas-presenca">
          <div class="estatistica-card">
            <h4>Presentes</h4>
            <span class="numero-estatistica" id="totalPresentes">0</span>
          </div>
          <div class="estatistica-card">
            <h4>Ausentes</h4>
            <span class="numero-estatistica" id="totalAusentes">0</span>
          </div>
          <div class="estatistica-card">
            <h4>Percentual</h4>
            <span class="numero-estatistica" id="percentualPresenca">0%</span>
          </div>
        </div>
      </div>
    </div>

    <div id="perfil-screen" class="screen" style="display: none">
      <section class="info-section personal-info">
        <div class="topo">
          <h2>Informações Pessoais</h2>
          <button class="edit-button" id="edit-save-button">
            <i class="fas fa-edit"></i> Editar
          </button>
        </div>

        <div class="profile-picture-section">
          <img
            src="/src/assets/imgs/images.jpg"
            alt="Foto de Perfil"
            class="profile-picture"
            id="profile-main-picture"
          />
          <span id="change-photo-trigger">Mudar foto de perfil</span>
        </div>

        <input
          type="file"
          id="photo-upload-input"
          accept="image/*"
          style="display: none"
        />

        <div class="info-grid" id="personal-info-container">
          <div class="info-item">
            <label>Nome Completo</label>
            <p data-field="nome-completo" class="display-mode">Carregando...</p>
          </div>
          <div class="info-item">
            <label>E-mail</label>
            <p data-field="email" class="display-mode">Carregando...</p>
          </div>
          <div class="info-item">
            <label>Telefone</label>
            <p data-field="telefone" class="display-mode">Carregando...</p>
          </div>
          <div class="info-item">
            <label>Localização</label>
            <p data-field="localizacao" class="display-mode">Carregando...</p>
          </div>
        </div>
      </section>

      <section class="info-section professional-experience">
        <h2 class="topo">Experiência Profissional</h2>
      </section>

      <section class="info-section academic-education">
        <h2 class="topo">Formação Acadêmica</h2>
      </section>
    </div>

    <div id="departamentos-screen" class="screen" style="display:none">
    <section class="hero-section">
        <h1>Departamentos</h1>
    </section>

    <div class="departamentos-content">
        <div class="topo-departamentos">
            <h2>Gerenciar Departamentos</h2>
            <button class="btn-defaunt" onclick="DT_Departamentos.abrirModalCriacao()">
                <i class="fas fa-plus"></i> Novo Departamento
            </button>
        </div>

        <!-- Grid de Departamentos -->
        <div class="grid-departamentos" id="dt-grid-departamentos">
            <!-- Cards serão gerados dinamicamente -->
        </div>
    </div>
    </div>

    <!-- Modal para Criar/Editar Departamento -->
    <div id="dt-modal-departamento" class="modal-overlay" style="display:none">
        <div class="modal-content medium">
            <div class="modal-header">
                <h3 id="dt-modal-titulo">Novo Departamento</h3>
                <button class="btn-fechar" onclick="DT_Departamentos.fecharModal()">&times;</button>
            </div>
            
            <div class="modal-body">
                <form id="dt-form-departamento" onsubmit="event.preventDefault(); DT_Departamentos.salvar();">
                    <div class="form-grid">
                        <div class="inputs-label">
                            <label for="dt-nome">Nome do Departamento *</label>
                            <input type="text" id="dt-nome" placeholder="Ex: Recursos Humanos" required>
                        </div>
                        
                        <div class="inputs-label">
                            <label for="dt-sigla">Sigla *</label>
                            <input type="text" id="dt-sigla" placeholder="Ex: RH" maxlength="10" required>
                        </div>
                        
                        <div class="inputs-label">
                            <label for="dt-telefone">Telefone</label>
                            <input type="text" id="dt-telefone" placeholder="(11) 99999-9999">
                        </div>
                        
                        <div class="inputs-label">
                            <label for="dt-local">Local</label>
                            <input type="text" id="dt-local" placeholder="Ex: Prédio A, 3º Andar">
                        </div>
                        
                        <div class="inputs-label full-width">
                            <label for="dt-descricao">Descrição</label>
                            <textarea id="dt-descricao" rows="3" placeholder="Breve descrição do departamento..."></textarea>
                        </div>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn-cancelar" onclick="DT_Departamentos.fecharModal()">
                            Cancelar
                        </button>
                        <button type="submit" class="btn-defaunt">
                            <i class="fas fa-save"></i> Salvar Departamento
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Modal para Atribuir Gerente -->
    <div id="dt-modal-gerente" class="modal-overlay" style="display:none">
        <div class="modal-content medium">
            <div class="modal-header">
                <h3>Atribuir Gerente ao Departamento</h3>
                <button class="btn-fechar" onclick="DT_Departamentos.fecharModalGerente()">&times;</button>
            </div>
            
            <div class="modal-body">
                <div class="input-search-filter" style="margin-bottom: 20px;">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="dt-busca-gerente" placeholder="Buscar colaborador...">
                </div>
                
                <div class="lista-colaboradores-modal">
                    <div id="dt-lista-gerentes">
                        <!-- Lista de colaboradores disponíveis -->
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button type="button" class="btn-cancelar" onclick="DT_Departamentos.fecharModalGerente()">
                        Cancelar
                    </button>
                    <button type="button" class="btn-default" onclick="DT_Departamentos.salvarGerente()">
                        <i class="fas fa-user-check"></i> Atribuir Gerente
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Tela de Visualização do Departamento -->
    <div id="dt-view-screen" class="screen" style="display:none">
        <div class="view-departamento-container">
            <!-- Cabeçalho -->
            <div class="cabecalho-view">
                <button class="btn-voltar" onclick="DT_Departamentos.voltarParaGrid()">
                    <i class="fas fa-arrow-left"></i> Voltar
                </button>
                <h1 id="dt-view-nome">Departamento</h1>
            </div>
            
            <!-- Abas -->
            <div class="abas-departamento">
                <button class="aba-departamento active" data-aba="info" onclick="DT_Departamentos.mudarAba('info')">
                    <i class="fas fa-info-circle"></i> Informações Gerais
                </button>
                <button class="aba-departamento" data-aba="colabs" onclick="DT_Departamentos.mudarAba('colabs')">
                    <i class="fas fa-users"></i> Colaboradores
                </button>
                <button class="aba-departamento" data-aba="cargos" onclick="DT_Departamentos.mudarAba('cargos')">
                    <i class="fas fa-briefcase"></i> Cargos
                </button>
            </div>
            
            <!-- Conteúdo das Abas -->
            <div class="conteudo-view">
                <!-- Aba Informações Gerais -->
                <div id="dt-aba-info" class="aba-conteudo-departamento active">
                    <div class="info-grid-view">
                        <div class="info-item-view">
                            <label>Nome do Departamento</label>
                            <p id="dt-info-nome"></p>
                        </div>
                        <div class="info-item-view">
                            <label>Sigla</label>
                            <p id="dt-info-sigla"></p>
                        </div>
                        <div class="info-item-view">
                            <label>Gerente</label>
                            <div id="dt-info-gerente-container">
                                <p id="dt-info-gerente">Não atribuído</p>
                                <button class="btn-small" onclick="DT_Departamentos.abrirModalGerente()">
                                    <i class="fas fa-user-plus"></i> Atribuir Gerente
                                </button>
                            </div>
                        </div>
                        <div class="info-item-view">
                            <label>Telefone</label>
                            <p id="dt-info-telefone"></p>
                        </div>
                        <div class="info-item-view">
                            <label>Local</label>
                            <p id="dt-info-local"></p>
                        </div>
                        <div class="info-item-view">
                            <label>Colaboradores</label>
                            <p id="dt-info-colaboradores">0</p>
                        </div>
                        <div class="info-item-view full-width">
                            <label>Descrição</label>
                            <p id="dt-info-descricao"></p>
                        </div>
                    </div>
                    
                    <div class="cargos-lista">
                        <h3><i class="fas fa-briefcase"></i> Cargos neste Departamento</h3>
                        <div id="dt-lista-cargos">
                            <!-- Cargos serão listados aqui -->
                        </div>
                    </div>
                </div>
                
                <!-- Aba Colaboradores -->
                <div id="dt-aba-colabs" class="aba-conteudo-departamento">
                    <div class="cabecalho-colaboradores">
                        <div class="filtros-colaboradores">
                            <div class="busca-colaboradores">
                                <i class="fa fa-search"></i>
                                <input type="text" id="dt-busca-colab" placeholder="Buscar por nome...">
                            </div>
                            
                            <div class="filtros-linha">
                                <select id="dt-filtro-mes">
                                    <option value="">Mês de Contratação</option>
                                    <option value="1">Janeiro</option>
                                    <option value="2">Fevereiro</option>
                                    <!-- Outros meses -->
                                </select>
                                
                                <select id="dt-filtro-ano">
                                    <option value="">Ano de Contratação</option>
                                    <option value="2024">2024</option>
                                    <option value="2023">2023</option>
                                    <!-- Outros anos -->
                                </select>
                                
                                <select id="dt-filtro-ordem">
                                    <option value="az">Ordem A-Z</option>
                                    <option value="za">Ordem Z-A</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="contador-colaboradores">
                            <span id="dt-total-colabs">0 colaboradores</span>
                        </div>
                    </div>
                    
                    <div class="lista-colaboradores-departamento">
                        <table class="tabela-colaboradores">
                            <thead>
                                <tr>
                                    <th>Nome</th>
                                    <th>Cargo</th>
                                    <th>Data Admissão</th>
                                    <th>Status</th>
                                    <th>Ações</th>
                                </tr>
                            </thead>
                            <tbody id="dt-lista-colaboradores">
                                <!-- Colaboradores serão listados aqui -->
                            </tbody>
                        </table>
                    </div>
                </div>
                
                <!-- Aba Cargos -->
                <div id="dt-aba-cargos" class="aba-conteudo-departamento">
                    <div class="cabecalho-cargos">
                        <h3>Cargos do Departamento</h3>
                        <button class="btn-defaunt" onclick="DT_Departamentos.abrirModalCargo()">
                            <i class="fas fa-plus"></i> Novo Cargo
                        </button>
                    </div>
                    
                    <div class="lista-cargos-departamento">
                        <div id="dt-lista-cargos-grid">
                            <!-- Cargos serão listados aqui -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Modal para Cargos -->
    <div id="dt-modal-cargo" class="modal-overlay" style="display:none">
        <div class="modal-content small">
            <div class="modal-header">
                <h3 id="dt-modal-cargo-titulo">Novo Cargo</h3>
                <button class="btn-fechar" onclick="DT_Departamentos.fecharModalCargo()">&times;</button>
            </div>
            
            <div class="modal-body">
                <form id="dt-form-cargo" onsubmit="event.preventDefault(); DT_Departamentos.salvarCargo();">
                    <div class="inputs-label">
                        <label for="dt-cargo-nome">Nome do Cargo *</label>
                        <input type="text" id="dt-cargo-nome" placeholder="Ex: Analista de RH" required>
                    </div>
                    
                    <div class="inputs-label">
                        <label for="dt-cargo-descricao">Descrição</label>
                        <textarea id="dt-cargo-descricao" rows="3" placeholder="Descrição das responsabilidades..."></textarea>
                    </div>
                    
                    <div class="modal-footer">
                        <button type="button" class="btn-cancelar" onclick="DT_Departamentos.fecharModalCargo()">
                            Cancelar
                        </button>
                        <button type="submit" class="btn-defaunt">
                            <i class="fas fa-save"></i> Salvar Cargo
                        </button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <!-- Tela de Visualização do Colaborador -->
    <div id="dt-view-colaborador-screen" class="screen" style="display:none">
        <div class="view-colaborador-container">
            <div class="cabecalho-colaborador-view">
                <button class="btn-voltar" onclick="DT_Departamentos.voltarParaDepartamento()">
                    <i class="fas fa-arrow-left"></i> Voltar ao Departamento
                </button>
                <h1 id="dt-colab-nome">Colaborador</h1>
            </div>
            
            <div class="perfil-colaborador-view">
                <div class="foto-colaborador">
                    <img id="dt-colab-foto" src="/src/assets/imgs/default-avatar.png" alt="Foto">
                </div>
                
                <div class="info-basica-colaborador">
                    <h2 id="dt-colab-nome-completo"></h2>
                    <div class="cargo-info">
                        <span class="cargo" id="dt-colab-cargo"></span>
                        <span class="departamento" id="dt-colab-departamento"></span>
                    </div>
                    <div class="matricula-info">
                        <span><strong>Matrícula:</strong> <span id="dt-colab-matricula"></span></span>
                        <span><strong>Admissão:</strong> <span id="dt-colab-admissao"></span></span>
                    </div>
                </div>
            </div>
            
            <div class="detalhes-colaborador-grid">
                <div class="info-section">
                    <h3><i class="fas fa-id-card"></i> Dados Pessoais</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>CPF</label>
                            <p id="dt-colab-cpf"></p>
                        </div>
                        <div class="info-item">
                            <label>Data Nascimento</label>
                            <p id="dt-colab-nascimento"></p>
                        </div>
                        <div class="info-item">
                            <label>Estado Civil</label>
                            <p id="dt-colab-estado-civil"></p>
                        </div>
                    </div>
                </div>
                
                <div class="info-section">
                    <h3><i class="fas fa-envelope"></i> Contato</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>E-mail</label>
                            <p id="dt-colab-email"></p>
                        </div>
                        <div class="info-item">
                            <label>Telefone</label>
                            <p id="dt-colab-telefone"></p>
                        </div>
                    </div>
                </div>
                
                <div class="info-section">
                    <h3><i class="fas fa-briefcase"></i> Profissional</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Salário Base</label>
                            <p id="dt-colab-salario"></p>
                        </div>
                        <div class="info-item">
                            <label>Regime</label>
                            <p id="dt-colab-regime"></p>
                        </div>
                        <div class="info-item">
                            <label>Jornada</label>
                            <p id="dt-colab-jornada"></p>
                        </div>
                    </div>
                </div>
                
                <div class="info-section full-width">
                    <h3><i class="fas fa-home"></i> Endereço</h3>
                    <div class="info-grid">
                        <div class="info-item">
                            <label>Logradouro</label>
                            <p id="dt-colab-endereco"></p>
                        </div>
                        <div class="info-item">
                            <label>Cidade/UF</label>
                            <p id="dt-colab-cidade-uf"></p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
        <!-- SCREEN DE COLABORADORES - CORRIGIDA -->
    <div id="colaboradores-screen" class="screen" style="display: none">
        <section class="hero-section">
            <h1>Colaboradores</h1>
            <img src="/src/assets/imgs/Homem Dashboard.png" alt="Homem da dashboard" />
        </section>

        <div class="colaboradores-container">
            <!-- Área de Filtros e Busca -->
            <div class="filtros-colaboradores">
                <div class="busca-colaboradores">
                    <i class="fa fa-search"></i>
                    <input type="text" id="busca-colaborador" placeholder="Buscar por nome, CPF, cargo, departamento..." />
                </div>
                
                <div class="filtros-avancados">
                    <div class="filtro-item">
                        <label for="filtro-departamento">Filtrar por Departamento:</label>
                        <select id="filtro-departamento">
                            <option value="">Todos os departamentos</option>
                            <option value="TI">TI</option>
                            <option value="RH">RH</option>
                            <option value="Financeiro">Financeiro</option>
                            <option value="Marketing">Marketing</option>
                            <option value="Vendas">Vendas</option>
                            <option value="Operações">Operações</option>
                        </select>
                    </div>
                    
                    <div class="filtro-item">
                        <label for="filtro-status">Filtrar por Status:</label>
                        <select id="filtro-status">
                            <option value="">Todos</option>
                            <option value="ativo">Ativo</option>
                            <option value="afastado">Afastado</option>
                            <option value="ferias">Férias</option>
                            <option value="desligado">Desligado</option>
                        </select>
                    </div>
                    
                    <div class="filtro-item">
                        <label for="filtro-ordem">Ordenar por:</label>
                        <select id="filtro-ordem">
                            <option value="nome-az">Nome (A-Z)</option>
                            <option value="nome-za">Nome (Z-A)</option>
                            <option value="data-admissao-recente">Data de Admissão (Mais recente)</option>
                            <option value="data-admissao-antiga">Data de Admissão (Mais antiga)</option>
                            <option value="cargo-az">Cargo (A-Z)</option>
                            <option value="departamento-az">Departamento (A-Z)</option>
                        </select>
                    </div>
                    
                    <button class="btn-limpar-filtros" onclick="limparFiltrosColaboradores()">
                        <i class="fas fa-times"></i> Limpar Filtros
                    </button>
                </div>
            </div>
            
            <!-- Contadores e Ações -->
            <div class="cabecalho-lista">
                <h3>Total de Colaboradores: <span id="total-colaboradores">0</span></h3>
                <div class="contadores-status">
                    <span class="status-badge status-ativo"><i class="fas fa-circle"></i> Ativos: <span id="count-ativos">0</span></span>
                    <span class="status-badge status-afastado"><i class="fas fa-circle"></i> Afastados: <span id="count-afastados">0</span></span>
                    <span class="status-badge status-ferias"><i class="fas fa-circle"></i> Férias: <span id="count-ferias">0</span></span>
                    <span class="status-badge status-desligado"><i class="fas fa-circle"></i> Desligados: <span id="count-desligados">0</span></span>
                </div>
                <button class="btn-defaunt" onclick="exportarColaboradores()">
                    <i class="fas fa-download"></i> Exportar Lista
                </button>
            </div>
            
            <!-- Lista de Colaboradores -->
            <div class="lista-colaboradores">
                <div class="tabela-colaboradores-container">
                    <table class="tabela-colaboradores">
                        <thead>
                            <tr>
                                <th>Nome</th>
                                <th>CPF</th>
                                <th>Cargo</th>
                                <th>Departamento</th>
                                <th>Data Admissão</th>
                                <th>Status</th>
                                <th>Ações</th>
                            </tr>
                        </thead>
                        <tbody id="lista-colaboradores-body">
                            <!-- Os colaboradores serão carregados aqui via JavaScript -->
                        </tbody>
                    </table>
                    
                    <div class="sem-resultados" id="sem-colaboradores" style="display: none;">
                        <i class="fas fa-users-slash"></i>
                        <p>Nenhum colaborador encontrado com os filtros aplicados.</p>
                        <p class="subtitulo">Os colaboradores são adicionados automaticamente a partir das candidaturas aprovadas.</p>
                    </div>
                </div>
                
                <!-- Paginação -->
                <div class="paginacao-colaboradores">
                    <div class="info-paginacao">
                        Mostrando <span id="pagina-inicio">1</span> a <span id="pagina-fim">10</span> de <span id="total-registros">0</span> colaboradores
                    </div>
                    <div class="botoes-paginacao">
                        <button class="btn-pagina" onclick="mudarPaginaColaboradores(-1)">
                            <i class="fas fa-chevron-left"></i> Anterior
                        </button>
                        <div class="numeros-pagina" id="numeros-pagina-colaboradores">
                            <!-- Números de página serão gerados dinamicamente -->
                        </div>
                        <button class="btn-pagina" onclick="mudarPaginaColaboradores(1)">
                            Próxima <i class="fas fa-chevron-right"></i>
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- SCREEN DE DETALHES DO COLABORADOR -->
    <div id="detalhes-colaborador-screen" class="screen" style="display: none">
        <div class="detalhes-colaborador-container">
            <!-- Cabeçalho com botão voltar -->
            <div class="cabecalho-detalhes">
                <button class="btn-voltar" onclick="voltarParaListaColaboradores()">
                    <i class="fas fa-arrow-left"></i> Voltar para Lista de Colaboradores
                </button>
                <div class="acoes-detalhes">
                    <button class="btn-defaunt btn-exportar" onclick="exportarDadosColaborador()">
                        <i class="fas fa-download"></i> Exportar Dados
                    </button>
                    <button class="btn-defaunt btn-editar" onclick="editarColaborador()">
                        <i class="fas fa-edit"></i> Editar Informações
                    </button>
                </div>
            </div>
            
            <!-- Perfil do Colaborador -->
            <div class="perfil-colaborador">
                <div class="foto-perfil-colaborador">
                    <img id="colaborador-foto" src="/src/assets/imgs/default-avatar.png" alt="Foto do Colaborador" />
                    <div class="status-indicador" id="colaborador-status-indicador"></div>
                </div>
                
                <div class="info-basica-colaborador">
                    <h1 id="colaborador-nome">Nome do Colaborador</h1>
                    <div class="cargo-departamento">
                        <span class="cargo" id="colaborador-cargo">Cargo</span>
                        <span class="departamento" id="colaborador-departamento">Departamento</span>
                    </div>
                    <div class="matricula-data">
                        <span><strong>Matrícula:</strong> <span id="colaborador-matricula">000000</span></span>
                        <span><strong>Admissão:</strong> <span id="colaborador-admissao">00/00/0000</span></span>
                    </div>
                </div>
            </div>
            
            <!-- Abas de Informações -->
            <div class="abas-detalhes-colaborador">
                <button class="aba-colaborador active" data-aba="pessoal" onclick="mudarAbaColaborador('pessoal')">
                    <i class="fas fa-user"></i> Dados Pessoais
                </button>
                <button class="aba-colaborador" data-aba="profissional" onclick="mudarAbaColaborador('profissional')">
                    <i class="fas fa-briefcase"></i> Dados Profissionais
                </button>
                <button class="aba-colaborador" data-aba="contato" onclick="mudarAbaColaborador('contato')">
                    <i class="fas fa-address-book"></i> Contato
                </button>
                <button class="aba-colaborador" data-aba="documentos" onclick="mudarAbaColaborador('documentos')">
                    <i class="fas fa-file-alt"></i> Documentos
                </button>
                <button class="aba-colaborador" data-aba="dependentes" onclick="mudarAbaColaborador('dependentes')">
                    <i class="fas fa-family"></i> Dependentes
                </button>
                <button class="aba-colaborador" data-aba="historico" onclick="mudarAbaColaborador('historico')">
                    <i class="fas fa-history"></i> Histórico
                </button>
            </div>
            
            <!-- Conteúdo das Abas -->
            <div class="conteudo-detalhes-colaborador">
                <!-- Aba Dados Pessoais -->
                <div id="aba-pessoal" class="aba-conteudo-colaborador active">
                    <div class="info-grid-detalhes">
                        <div class="info-item-detalhe">
                            <label>Nome Completo</label>
                            <p id="info-nome-completo"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Data de Nascimento</label>
                            <p id="info-data-nascimento"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>CPF</label>
                            <p id="info-cpf"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>RG</label>
                            <p id="info-rg"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Estado Civil</label>
                            <p id="info-estado-civil"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Gênero</label>
                            <p id="info-genero"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Nome da Mãe</label>
                            <p id="info-nome-mae"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Nome do Pai</label>
                            <p id="info-nome-pai"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Naturalidade</label>
                            <p id="info-naturalidade"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Nacionalidade</label>
                            <p id="info-nacionalidade"></p>
                        </div>
                    </div>
                    
                    <div class="endereco-section">
                        <h3><i class="fas fa-home"></i> Endereço</h3>
                        <div class="info-grid-detalhes">
                            <div class="info-item-detalhe">
                                <label>CEP</label>
                                <p id="info-cep"></p>
                            </div>
                            <div class="info-item-detalhe">
                                <label>Logradouro</label>
                                <p id="info-logradouro"></p>
                            </div>
                            <div class="info-item-detalhe">
                                <label>Número</label>
                                <p id="info-numero"></p>
                            </div>
                            <div class="info-item-detalhe">
                                <label>Complemento</label>
                                <p id="info-complemento"></p>
                            </div>
                            <div class="info-item-detalhe">
                                <label>Bairro</label>
                                <p id="info-bairro"></p>
                            </div>
                            <div class="info-item-detalhe">
                                <label>Cidade</label>
                                <p id="info-cidade"></p>
                            </div>
                            <div class="info-item-detalhe">
                                <label>Estado</label>
                                <p id="info-estado"></p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Aba Dados Profissionais -->
                <div id="aba-profissional" class="aba-conteudo-colaborador">
                    <div class="info-grid-detalhes">
                        <div class="info-item-detalhe">
                            <label>Cargo</label>
                            <p id="info-cargo"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Departamento</label>
                            <p id="info-departamento"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Data de Admissão</label>
                            <p id="info-data-admissao"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Regime de Trabalho</label>
                            <p id="info-regime-trabalho"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Jornada de Trabalho</label>
                            <p id="info-jornada"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Salário Base</label>
                            <p id="info-salario-base"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Banco</label>
                            <p id="info-banco"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Agência</label>
                            <p id="info-agencia"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Conta Corrente</label>
                            <p id="info-conta"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Status</label>
                            <p id="info-status-profissional"></p>
                        </div>
                    </div>
                    
                    <div class="historico-cargo-section">
                        <h3><i class="fas fa-history"></i> Histórico de Cargos</h3>
                        <div id="historico-cargos">
                            <!-- Histórico será carregado dinamicamente -->
                        </div>
                    </div>
                </div>
                
                <!-- Aba Contato -->
                <div id="aba-contato" class="aba-conteudo-colaborador">
                    <div class="info-grid-detalhes">
                        <div class="info-item-detalhe">
                            <label>E-mail Corporativo</label>
                            <p id="info-email-corporativo"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>E-mail Pessoal</label>
                            <p id="info-email-pessoal"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Telefone Celular</label>
                            <p id="info-celular"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Telefone Residencial</label>
                            <p id="info-telefone-residencial"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Telefone de Emergência</label>
                            <p id="info-telefone-emergencia"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Contato de Emergência</label>
                            <p id="info-contato-emergencia"></p>
                        </div>
                        <div class="info-item-detalhe">
                            <label>Parentesco do Contato</label>
                            <p id="info-parentesco-emergencia"></p>
                        </div>
                    </div>
                </div>
                
                <!-- Aba Documentos -->
                <div id="aba-documentos" class="aba-conteudo-colaborador">
                    <div class="documentos-section">
                        <div class="acoes-documentos">
                            <button class="btn-defaunt" onclick="adicionarDocumento()">
                                <i class="fas fa-plus"></i> Adicionar Documento
                            </button>
                        </div>
                        
                        <div class="lista-documentos">
                            <table class="tabela-documentos">
                                <thead>
                                    <tr>
                                        <th>Tipo</th>
                                        <th>Número</th>
                                        <th>Órgão Emissor</th>
                                        <th>Data de Emissão</th>
                                        <th>Data de Validade</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="lista-documentos-body">
                                    <!-- Documentos serão carregados dinamicamente -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Aba Dependentes -->
                <div id="aba-dependentes" class="aba-conteudo-colaborador">
                    <div class="dependentes-section">
                        <div class="acoes-dependentes">
                            <button class="btn-defaunt" onclick="adicionarDependente()">
                                <i class="fas fa-plus"></i> Adicionar Dependente
                            </button>
                        </div>
                        
                        <div class="lista-dependentes">
                            <div class="dependentes-grid" id="lista-dependentes-grid">
                                <!-- Dependentes serão carregados dinamicamente -->
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Aba Histórico -->
                <div id="aba-historico" class="aba-conteudo-colaborador">
                    <div class="historico-section">
                        <div class="filtros-historico">
                            <select id="filtro-tipo-historico">
                                <option value="">Todos os Eventos</option>
                                <option value="promocao">Promoções</option>
                                <option value="alteracao_salario">Alterações Salariais</option>
                                <option value="ferias">Férias</option>
                                <option value="afastamento">Afastamentos</option>
                                <option value="treinamento">Treinamentos</option>
                            </select>
                        </div>
                        
                        <div class="timeline-historico" id="timeline-historico">
                            <!-- Histórico será carregado dinamicamente -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


    <div id="folha-screen" class="screen" style="display: none">
        <section class="hero-section">
            <h1>Folha de Pagamento</h1>
            <img src="/src/assets/imgs/Homem Dashboard.png" alt="Homem da dashboard"/>
        </section>

        <div id="content">
            <div class="acoes-globais-folha">
                <div class="input-search-filter">
                    <i class="fa-solid fa-magnifying-glass"></i>
                    <input type="text" id="search" placeholder="Buscar por nome ou cargo..." />
                </div>
                <button class="btn-defaunt">
                    <i class="fas fa-download"></i> Exportar Relatório Mensal
                </button>
            </div>

            <div class="colab-container" id="container">
                <!-- Cards dos colaboradores serão injetados aqui pelo JS -->
            </div>
        </div>
    </div>

    <!-- MODAL DE SUCESSO (Substitui o alert de geração de folha) -->
    <div id="modal-sucesso" class="modal-overlay">
        <div class="modal-content small">
            <div class="modal-header">
                <h3 class="modal-titulo-sucesso">Sucesso!</h3>
                <button class="btn-fechar" onclick="fecharModal('modal-sucesso')">&times;</button>
            </div>
            <i class="fas fa-check-circle" style="font-size: 3rem; color: var(--verde-sucesso, #28a745); margin: 15px 0;"></i>
            <p id="modal-sucesso-mensagem">Ação realizada com sucesso.</p>
            <div class="modal-fechar">
                <button class="btn-defaunt" onclick="fecharModal('modal-sucesso')">OK</button>
            </div>
        </div>
    </div>

    <!-- MODAL DE CONTRATRACHEQUE DETALHADO (Substitui o alert de visualização) -->
    <div id="modal-contracheque" class="modal-overlay">
        <div class="modal-content large">
            <div class="modal-header">
                <h3 id="contracheque-titulo">Contracheque Detalhado</h3>
                <button class="btn-fechar" onclick="fecharModal('modal-contracheque')">&times;</button>
            </div>
            
            <div class="modal-body">
                <h4>Dados do Colaborador e Empresa</h4>
                <div class="detalhes-grid">
                    <p><strong>Nome:</strong> <span id="nome-detalhe"></span></p>
                    <p><strong>Empresa:</strong> <span id="empresa-detalhe">TechCorp S.A.</span></p>
                    <p><strong>CPF:</strong> <span id="cpf"></span></p>
                    <p><strong>CNPJ:</strong> <span id="cnpj"></span></p>
                    <p><strong>Cargo:</strong> <span id="cargo-detalhe"></span></p>
                    <p><strong>Nº Registro:</strong> <span id="registro-detalhe">12345</span></p>
                </div>

                <hr style="margin: 20px 0; border-color: #eee;">

                <h4>Remuneração e Descontos</h4>
                <table class="tabela-contracheque">
                    <thead>
                        <tr>
                            <th>Rubrica</th>
                            <th>Provento</th>
                            <th>Desconto</th>
                        </tr>
                    </thead>
                    <tbody id="tabela-lancamentos">
                        <!-- Linhas de lançamento serão injetadas aqui -->
                    </tbody>
                    <tfoot>
                        <tr>
                            <td><strong>Totais</strong></td>
                            <td id="total-proventos"></td>
                            <td id="total-descontos-tabela"></td>
                        </tr>
                    </tfoot>
                </table>

                <hr style="margin: 20px 0; border-color: #eee;">

                <h4>Resumo Financeiro</h4>
                <div class="resumo-financeiro">
                    <div>

                    <!-- TELA DE DETALHES DAS CANDIDATURAS (CANDIDATO) -->
                    <div id="candidato-candidaturas-screen" class="screen" style="display: none">
                        <section class="hero-section">
                            <button class="btn-voltar" style="margin-bottom: 10px;">
                                <i class="fas fa-arrow-left"></i> Voltar
                            </button>
                            <h1 id="candidato-nome-titulo">Candidaturas</h1>
                        </section>

                        <div class="candidaturas-top-section">
                            <h2 id="candidato-nome-card">Nome do Candidato</h2>

                            <div class="filtros-status">
                                <label><input type="radio" id="det-todos" name="status-det" value="todos" checked> Todos</label>
                                <label><input type="radio" id="det-aprovado" name="status-det" value="aprovado"> Aprovado</label>
                                <label><input type="radio" id="det-reprovado" name="status-det" value="reprovado"> Reprovado</label>
                                <label><input type="radio" id="det-pendente" name="status-det" value="pendente"> Pendente</label>
                            </div>
                        </div>

                        <div class="cand-table-wrap">
                            <div class="cand-table-header">Candidaturas do Candidato</div>
                            <table>
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Vaga</th>
                                        <th>Data</th>
                                        <th>Status</th>
                                        <th>Ações</th>
                                    </tr>
                                </thead>
                                <tbody id="tableBodyCandidaturasDetalhe"></tbody>
                            </table>
                        </div>

                        <div id="detalhe-paginacao-info" style="margin-top:10px"></div>
                    </div>

                    <div id="treinamentos-screen" class="screen" style="display: none">
                    </div>
                    <div>
                        <h5>Total Descontos</h5>
                        <p class="valor-descontos" id="total-descontos"></p>
                    </div>
                    <div>
                        <h5>Salário Líquido</h5>
                        <p class="valor-liquido" id="salario-liquido"></p>
                    </div>
                </div>

                <div class="detalhes-grid">
                    <p><strong>FGTS (Mês):</strong> <span id="fgts-mes"></span></p>
                    <p><strong>Base IRRF:</strong> <span id="base-irrf"></span></p>
                    <p><strong>Base INSS:</strong> <span id="base-inss"></span></p>
                    <p><strong>13º Salário:</strong> <span id="decimo-terceiro">Não Aplicável</span></p>
                    <p><strong>Férias:</strong> <span id="ferias">Não Aplicável</span></p>
                    <p><strong>Rescisão:</strong> <span id="rescisao">Não Aplicável</span></p>
                </div>
            </div>

            <div class="modal-footer">
                <button class="btn-defaunt" onclick="fecharModal('modal-contracheque')">Fechar</button>
                <button class="btn-default" style="margin-left: 10px;">
                    <i class="fas fa-print"></i> Imprimir
                </button>
            </div>
        </div>
    </div>

    <!-- TELA DE VISUALIZAÇÃO SIMPLIFICADA (USADA PELO DASHBOARD) -->
    <div id="visualizar-candidatura-screen" class="screen" style="display: none">
        <section class="hero-section">
            <button id="voltar-para-lista" class="btn-voltar">
                <i class="fas fa-arrow-left"></i> Voltar
            </button>
            <h1 id="nomeCandidatoTitulo">Candidaturas</h1>
        </section>

        <div class="cand-table-wrap">
            <div class="cand-table-header">Detalhes</div>
            <table>
                <thead>
                    <tr>
                        <th>Cód.</th>
                        <th>Vaga</th>
                        <th>Data</th>
                        <th>Status</th>
                        <th>Ações</th>
                    </tr>
                </thead>
                <tbody id="tableBodyDetalhes"></tbody>
            </table>
        </div>

        <div id="visDots"></div>
    </div>

    <footer id="footer-RHFoot"></footer>

    <script>
      document.addEventListener('DOMContentLoaded', () => {
        AuthLocal.init();
        AuthLocal.protectPage(['interno']);
        const user = AuthLocal.getCurrentUser();
        if (user) {
          // inserir nome no header quando existir
          const el = document.querySelector('.user-name-header');
          if (el) el.textContent = user.nome;
        }
      });
    </script>
  </body>
</html>
